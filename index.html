<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hello, World!</h1>
    <jenkins>
        pipeline {

    agent any

    tools {
        maven 'MAVEN_HOME'
    }

    stages {

        stage('git repo & clean') {
            steps {
                bat "rmdir /s /q SELAB_maven_java_project"
                bat "git clone https://github.com/Jashwanthb2005/SELAB_maven_java_project.git"
                bat "mvn clean -f SELAB_maven_java_project"
            }
        }

        stage('install') {
            steps {
                bat "mvn install -f SELAB_maven_java_project"
            }
        }

        stage('test') {
            steps {
                bat "mvn test -f SELAB_maven_java_project"
            }
        }

        stage('package') {
            steps {
                bat "mvn package -f SELAB_maven_java_project"
            }
        }

    }

}
    </jenkins>
    <minkube>
        minikube start
        kubectl create deployment mynginx --image=nginx
        kubectl get deployments
        kubectl expose deployment mynginx --type=NodePort --port=80 --target-port=80
        kubectl scale deployment mynginx --replicas=4
        kubectl get deployments
        kubectl port-forward svc/mynginx 8081:80
        kubectl delete deployment mynginx
        kubectl delete service mynginx
        minikube stop
    </minkube>
    <nagios>
        docker pull jasonrivers/nagios:latest
        docker run --name nagiosdemo -p 8888:80 jasonrivers/nagios:latest
        docker stop nagiosdemo
    </nagios>
    <aws>
        ssh -i "myserverkp.pem" ubuntu@ec2-98-80-217-101.compute-1.amazonaws.com
        sudo apt update
        sudo apt-get install docker.io
        sudo apt install git
        sudo apt install nano
        git clone https://github.com/Jashwanthb2005/awsexample.git
        ls
        cd awsexample
        nano Dockerfile
        FROM nginx:alpine
        COPY . /usr/share/nginx/html
        sudo docker build -t mywebap .
        sudo docker run -d -p 80:80 mywebap
        sudo docker ps
        sudo docker stop b2db90578568
    </aws>
    <smtp>aoof vqqb urha rmmo</smtp>
    <docker>
        mvn clean package -DskipTests
        docker build -t johndoe/mywebapp:latest .
        //docker run -p 8080:8080 johndoe/mywebapp:latest
        
        docker login
        
        docker push johndoe/mywebapp:latest
        
        FROM eclipse-temurin:17-jdk
        WORKDIR /app
        COPY . .
        RUN mvn -q -e -DskipTests package
        EXPOSE 8080
        CMD ["java", "-jar", "target/myapp.jar"]
        
        
        FROM tomcat:10.1-jdk17
        COPY target/*.war /usr/local/tomcat/webapps/ROOT.war
        EXPOSE 8000
        CMD ["catalina.sh", "run"]
        
        
        
        ///////////////////
        
        notepad docker-compose
        ren docker-compose.txt docker-compose.yml
        docker-compose up -d
        
        
        version: "3.9"
        
        services:
          wordpress:
            image: wordpress:latest
            container_name: wordpress-app
            ports:
              - "9090:80"
            environment:
              WORDPRESS_DB_HOST: db
              WORDPRESS_DB_USER: wpuser
              WORDPRESS_DB_PASSWORD: wppassword
              WORDPRESS_DB_NAME: wpdatabase
            depends_on:
              - db
            volumes:
              - wp_data:/var/www/html
        
          db:
            image: mysql:8
            container_name: wordpress-db
            restart: always
            environment:
              MYSQL_ROOT_PASSWORD: rootpassword
              MYSQL_DATABASE: wpdatabase
              MYSQL_USER: wpuser
              MYSQL_PASSWORD: wppassword
            volumes:
              - db_data:/var/lib/mysql
        
        volumes:
          wp_data:
          db_data:



    </docker>
</body>
</html>
